# Makefile for gopy pkg generation of python bindings to gi
# File is generated by gopy (will not be overwritten though)
# gopy pkg -vm=python3 -output=gi -exclude=driver -main="runtime.LockOSThread(); gimain.Main(func() { GoPyInitRunFile() })" github.com/goki/gi github.com/goki/ki/ki

PYTHON=python3
PIP=$(PYTHON) -m pip

all: gen

gen:
	gopy pkg -vm=python3 -exclude=driver -main="runtime.LockOSThread(); gimain.Main(func() { GoPyInitRunFile() })" github.com/goki/gi github.com/goki/ki/ki
	
build:
	$(MAKE) -C gi build

install:
	# this does a local install of the package, building the sdist and then directly installing it
	rm -rf dist build */*.egg-info *.egg-info
	$(PYTHON) setup.py sdist
	$(PIP) install dist/*.tar.gz

